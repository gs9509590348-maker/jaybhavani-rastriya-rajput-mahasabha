<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin Login</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:Arial;background:#f5f6fa}
.box{max-width:400px;margin:60px auto;background:#fff;padding:15px;border-radius:10px}
input{width:100%;padding:10px;margin-top:5px;border:1px solid #ccc;border-radius:5px}
button{width:100%;padding:10px;background:#8e0000;color:#fff;border:0;border-radius:5px;margin-top:10px}
h2{text-align:center}
#msg{text-align:center;margin-top:10px}
</style>
</head>

<body>

<div class="box">
<h2>Admin Login</h2>

<input type="password" id="pass" placeholder="Enter Admin Password">
<button id="loginBtn">Login</button>

<div id="msg"></div>
</div>


<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/12.7.0/firebase-app.js";
import { getFirestore, doc, getDoc } 
from "https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore.js";

const firebaseConfig = {
 apiKey: "AIzaSyBQpzc5xAvInmSCbzsZiy7TpD0OXVyij_4",
 authDomain: "jb-rrms-membership-system.firebaseapp.com",
 projectId: "jb-rrms-membership-system",
 storageBucket: "jb-rrms-membership-system.firebasestorage.app",
 messagingSenderId: "493815911364",
 appId: "1:493815911364:web:e8f2270cf73d93dd368a91"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

loginBtn.onclick = async ()=>{

 let ref = doc(db,"system","admin");
 let snap = await getDoc(ref);

 if(!snap.exists()){
   msg.innerText = "Admin Password Not Set!";
   return;
 }

 let realPass = snap.data().password;
 let typed = pass.value.trim();

 if(realPass === typed){
   localStorage.setItem("adminLogin","true");
   window.location.href="admin-dashboard.html";
 }
 else{
   msg.innerText="Wrong Password ‚ùå";
   msg.style.color="red";
 }
}

</script>

</body>
</html>
