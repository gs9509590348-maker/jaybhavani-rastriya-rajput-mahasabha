<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Member Verify | JBRRMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, sans-serif;
  background:#f4f4f4;
  margin:0;
}
.box{
  max-width:420px;
  margin:60px auto;
  background:#fff;
  padding:25px;
  border-radius:10px;
  box-shadow:0 4px 15px rgba(0,0,0,.15);
}
h2{
  text-align:center;
  color:#7b0000;
}
input{
  width:100%;
  padding:10px;
  margin:10px 0;
  border:1px solid #ccc;
  border-radius:5px;
}
button{
  width:100%;
  background:#7b0000;
  color:#fff;
  border:none;
  padding:12px;
  font-size:16px;
  border-radius:5px;
  cursor:pointer;
}
.result{
  margin-top:20px;
  padding:15px;
  border:1px solid #ddd;
  border-radius:8px;
}
.success{color:green}
.error{color:red}
a.btn{
  display:inline-block;
  margin-top:8px;
  padding:8px 12px;
  background:#7b0000;
  color:#fff;
  text-decoration:none;
  border-radius:5px;
  font-size:14px;
}
.footer{
  text-align:center;
  font-size:13px;
  color:#555;
  margin:40px 0 20px;
  line-height:1.6;
}
</style>
</head>

<body>

<div class="box">
  <h2>Member Verification</h2>

  <input id="mid" placeholder="Member ID">
  <input id="mobile" placeholder="Mobile Number">
  <button onclick="verify()">Verify</button>

  <div id="out"></div>

  <p style="font-size:12px;color:#666;text-align:center;margin-top:15px">
    рд╕рджрд╕реНрдпреЛрдВ рдХреА рдЬрд╛рдирдХрд╛рд░реА рдХреЗрд╡рд▓ рд╕рддреНрдпрд╛рдкрди рд╣реЗрддреБ рдЙрдкрдпреЛрдЧ рдХреА рдЬрд╛рддреА рд╣реИред  
    рд╣рдо рдХрд┐рд╕реА рднреА рдкреНрд░рдХрд╛рд░ рдХреА рд╡реНрдпрдХреНрддрд┐рдЧрдд рдЬрд╛рдирдХрд╛рд░реА рд╕рд╛рдЭрд╛ рдирд╣реАрдВ рдХрд░рддреЗред
  </p>
</div>

<script>
async function verify(){
  const mid = document.getElementById("mid").value.trim();
  const mob = document.getElementById("mobile").value.trim();
  const out = document.getElementById("out");

  out.innerHTML = "Checking...";

  if(!mid || !mob){
    out.innerHTML = "<p class='error'>рдХреГрдкрдпрд╛ Member ID рдФрд░ Mobile Number рдбрд╛рд▓реЗрдВ</p>";
    return;
  }

  const res = await fetch("data/members.json");
  const data = await res.json();

  const m = data.find(x => x.member_id === mid && x.mobile === mob);

  if(!m){
    out.innerHTML = "<p class='error'>тЭМ Member рдирд╣реАрдВ рдорд┐рд▓рд╛</p>";
    return;
  }

  out.innerHTML = `
    <div class="result">
      <p class="success"><b>тЬЕ Verified Member</b></p>
      <p><b>Name:</b> ${m.name}</p>
      <p><b>Father:</b> ${m.father}</p>
      <p><b>Post:</b> ${m.post}</p>
      <p><b>Level:</b> ${m.level}</p>
      <p><b>Department:</b> ${m.department || "-"}</p>
      <p><b>Status:</b> ${m.status || "Active"}</p>

      <a class="btn" href="${m.id_card}" target="_blank">ЁЯкк ID Card</a>
      <a class="btn" href="${m.certificate}" target="_blank">ЁЯУЬ Certificate</a>
      <a class="btn" href="${m.appointment}" target="_blank">ЁЯУД Appointment</a>

      <a class="btn" style="background:#25D366"
         onclick="shareOnWhatsApp('${m.member_id}')">
         ЁЯУ▓ Share on WhatsApp
      </a>
    </div>
  `;
}

function shareOnWhatsApp(memberId){
  const msg =
`рдореИрдВ рдЬрдп рднрд╡рд╛рдиреА рд░рд╛рд╖реНрдЯреНрд░реАрдп рд░рд╛рдЬрдкреВрдд рдорд╣рд╛рд╕рднрд╛ рдХрд╛ рд╕рддреНрдпрд╛рдкрд┐рдд рд╕рджрд╕реНрдп рд╣реВрдБ тЬЕ

Member ID: ${memberId}

Verify Online ЁЯСЗ
https://jbrrms.in/verify.html?id=${memberId}`;

  window.open(
    "https://wa.me/?text=" + encodeURIComponent(msg),
    "_blank"
  );
}
</script>

<footer class="footer">
  ┬й 2025 рдЬрдп рднрд╡рд╛рдиреА рд░рд╛рд╖реНрдЯреНрд░реАрдп рд░рд╛рдЬрдкреВрдд рдорд╣рд╛рд╕рднрд╛  
  <br>
  рдпрд╣ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХреЗрд╡рд▓ рд╕рдВрдЧрдардирд╛рддреНрдордХ рдЬрд╛рдирдХрд╛рд░реА рд╣реЗрддреБ рд╣реИред  
  рдпрд╣ рдХрд┐рд╕реА рд╕рд░рдХрд╛рд░реА рд╕рдВрд╕реНрдерд╛ рд╕реЗ рд╕рдВрдмрджреНрдз рдирд╣реАрдВ рд╣реИред
</footer>

</body>
</html>
