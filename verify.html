<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Member Verification | JBRRMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, sans-serif;
  background:#f4f4f4;
  margin:0;
}
.box{
  max-width:420px;
  margin:60px auto;
  background:#fff;
  padding:25px;
  border-radius:10px;
  box-shadow:0 4px 15px rgba(0,0,0,.15);
}
h2{
  text-align:center;
  color:#7b0000;
  margin-bottom:20px;
}
input{
  width:100%;
  padding:10px;
  margin:10px 0;
  border:1px solid #ccc;
  border-radius:5px;
  font-size:15px;
}
button{
  width:100%;
  padding:12px;
  background:#7b0000;
  color:#fff;
  border:none;
  border-radius:5px;
  font-size:16px;
  cursor:pointer;
}
button:hover{opacity:.9}
.result{
  margin-top:20px;
  padding:15px;
  border:1px solid #ddd;
  border-radius:8px;
}
.success{color:green;font-weight:bold}
.error{color:red;font-weight:bold}
.btn{
  display:inline-block;
  margin:6px 4px;
  padding:8px 12px;
  background:#7b0000;
  color:#fff;
  text-decoration:none;
  border-radius:5px;
  font-size:14px;
}
.footer{
  text-align:center;
  font-size:13px;
  color:#555;
  margin:40px 20px;
  line-height:1.6;
}
</style>
</head>

<body>

<div class="box">
  <h2>Member Verification</h2>

  <input id="mid" placeholder="Member ID">
  <input id="mobile" placeholder="Mobile Number">
  <button onclick="verify()">Verify</button>

  <div id="out"></div>

  <p style="font-size:12px;color:#666;text-align:center;margin-top:15px">
    ‡§ï‡•É‡§™‡§Ø‡§æ Member ID ‡§î‡§∞ ‡§µ‡§π‡•Ä Mobile Number ‡§°‡§æ‡§≤‡•á‡§Ç  
    ‡§ú‡•ã ‡§∏‡§¶‡§∏‡•ç‡§Ø‡§§‡§æ ‡§ï‡•á ‡§∏‡§Æ‡§Ø ‡§¶‡§ø‡§Ø‡§æ ‡§ó‡§Ø‡§æ ‡§•‡§æ
  </p>
</div>

<script>
async function verify(){
  const mid = document.getElementById("mid").value.trim();
  const mob = document.getElementById("mobile").value.trim();
  const out = document.getElementById("out");

  if(!mid || !mob){
    out.innerHTML = "<p class='error'>‚ùå Member ID ‡§î‡§∞ Mobile Number ‡§ú‡§∞‡•Ç‡§∞‡•Ä ‡§π‡•à</p>";
    return;
  }

  out.innerHTML = "‚è≥ Checking...";

  try{
    const res = await fetch("data/members.json");
    const data = await res.json();

    const m = data.find(x =>
      (x.member_id || x.memberId) == mid &&
      String(x.mobile) == String(mob) &&
      (x.status||"").toLowerCase() === "approved"
    );

    if(!m){
      out.innerHTML =
        "<p class='error'>‚ùå Member ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§æ ‡§Ø‡§æ Approved ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à</p>";
      return;
    }

    const midFinal = m.member_id || m.memberId;

    const idCard =
      m.id_card || m.ID_Card_Link || `idcard.html?id=${midFinal}`;
    const cert =
      m.certificate || m.Certificate_Link || `certificate.html?id=${midFinal}`;
    const appoint =
      m.appointment || m.Appointment_Link || `appointment.html?id=${midFinal}`;

    out.innerHTML = `
    <div class="result">
      <p class="success">‚úÖ Verified Member</p>
      <p><b>Name:</b> ${m.name||""}</p>
      <p><b>Father:</b> ${m.father||""}</p>
      <p><b>Post:</b> ${m.post||""}</p>
      <p><b>Level:</b> ${m.level||""}</p>
      <p><b>Status:</b> APPROVED</p>

      <a class="btn" href="${idCard}" target="_blank">ü™™ ID Card</a>
      <a class="btn" href="${cert}" target="_blank">üìú Certificate</a>
      <a class="btn" href="${appoint}" target="_blank">üìÑ Appointment</a>
    </div>`;
  }catch(e){
    out.innerHTML = "<p class='error'>‚ùå Data load error</p>";
  }
}
</script>

<div class="footer">
¬© 2025 ‡§ú‡§Ø ‡§≠‡§µ‡§æ‡§®‡•Ä ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§∞‡§æ‡§ú‡§™‡•Ç‡§§ ‡§Æ‡§π‡§æ‡§∏‡§≠‡§æ<br>
‡§Ø‡§π ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§ï‡•á‡§µ‡§≤ ‡§∏‡§§‡•ç‡§Ø‡§æ‡§™‡§® ‡§π‡•á‡§§‡•Å ‡§π‡•à
</div>

</body>
</html>
