<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Admin Dashboard | JBRRMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Segoe UI,Arial;background:#f4f4f4}

/* HEADER */
header{
  background:#7b0000;color:#fff;
  padding:16px;text-align:center
}
header h2{margin:0}
header p{margin:6px 0 0;font-size:13px}

/* NAV */
nav{
  background:#3b0000;
  display:flex;flex-wrap:wrap;
  justify-content:center
}
nav a{
  color:#fff;text-decoration:none;
  padding:8px 12px;font-size:14px
}
nav a:hover{background:#7b0000}

/* MAIN */
.container{
  max-width:1100px;margin:20px auto;
  padding:10px
}
.cards{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:14px
}
.card{
  background:#fff;border-radius:10px;
  padding:18px;text-align:center;
  box-shadow:0 2px 6px rgba(0,0,0,.1)
}
.card h3{margin:0;font-size:22px}
.card p{margin:6px 0 0;font-size:13px;color:#555}

.green{border-top:5px solid #28a745}
.red{border-top:5px solid #dc3545}
.blue{border-top:5px solid #0066cc}
.orange{border-top:5px solid #ff9800}

.section{
  background:#fff;border-radius:10px;
  padding:18px;margin-top:20px;
  box-shadow:0 2px 6px rgba(0,0,0,.1)
}
.section h3{margin-top:0;color:#7b0000}

.quick a{
  display:inline-block;margin:6px;
  padding:10px 14px;border-radius:6px;
  background:#7b0000;color:#fff;
  text-decoration:none;font-size:14px
}
.quick a.gray{background:#555}
.quick a.green{background:#28a745}
.quick a.blue{background:#0066cc}

/* FOOTER */
footer{
  text-align:center;font-size:12px;
  color:#555;margin:30px 10px
}
footer a{color:#7b0000;text-decoration:none}
</style>
</head>

<body>

<script>
/* ğŸ” ADMIN PROTECTION */
if(sessionStorage.getItem("admin")!=="1"){
  alert("Unauthorized Access");
  location.href="../admin_login.html";
}
</script>

<!-- HEADER -->
<header>
  <h2>ğŸ“Š Admin Dashboard</h2>
  <p>Jay Bhavani Rashtriya Rajput Mahasabha</p>
</header>

<!-- ADMIN NAVIGATION -->
<nav>
  <a href="../admin_control.html">ğŸ” Control Room</a>
  <a href="../admin_dashboard.html">ğŸ“Š Dashboard</a>
  <a href="../admin_pending.html">â³ Pending</a>
  <a href="../admin_bulk_approve.html">ğŸš€ Bulk Approve</a>
  <a href="../bulk_add_members.html">â• Bulk Add</a>
  <a href="../bulk_whatsapp.html">ğŸ“² Bulk WhatsApp</a>
  <a href="../admin_edit_member.html">âœï¸ Edit Member</a>

  <!-- PUBLIC -->
  <a href="../karyakarini.html" target="_blank">ğŸ‘¥ View à¤•à¤¾à¤°à¥à¤¯à¤•à¤¾à¤°à¤¿à¤£à¥€</a>
  <a href="../members.html" target="_blank">ğŸ§‘â€ğŸ¤â€ğŸ§‘ Members</a>
  <a href="../verify.html" target="_blank">ğŸ” Verify</a>
  <a href="../certificate.html" target="_blank">ğŸ“œ Certificate</a>
  <a href="../idcard_print.html" target="_blank">ğŸªª ID Card</a>
  <a href="../appointment.html" target="_blank">ğŸ“„ Appointment</a>
  <a href="../gallery.html" target="_blank">ğŸ–¼ï¸ Gallery</a>
  <a href="../events.html" target="_blank">ğŸ“¢ Events</a>
  <a href="../contact.html" target="_blank">ğŸ“ Contact</a>
  <a href="../index.html" target="_blank">ğŸ  Website</a>
</nav>

<div class="container">

<!-- STATS -->
<div class="cards">
  <div class="card blue">
    <h3 id="total">0</h3>
    <p>Total Members</p>
  </div>
  <div class="card green">
    <h3 id="approved">0</h3>
    <p>Approved Members</p>
  </div>
  <div class="card red">
    <h3 id="pending">0</h3>
    <p>Pending Members</p>
  </div>
  <div class="card orange">
    <h3 id="kcount">0</h3>
    <p>à¤•à¤¾à¤°à¥à¤¯à¤•à¤¾à¤°à¤¿à¤£à¥€ Members</p>
  </div>
</div>

<!-- QUICK ACTIONS -->
<div class="section">
  <h3>âš¡ Quick Actions</h3>
  <div class="quick">
    <a href="../admin_pending.html">â³ View Pending</a>
    <a href="../admin_bulk_approve.html" class="green">ğŸš€ Bulk Approve</a>
    <a href="../bulk_add_members.html" class="blue">â• Bulk Add</a>
    <a href="../bulk_whatsapp.html">ğŸ“² WhatsApp</a>
    <a href="../admin_karyakarini.html" class="gray">ğŸ§‘â€ğŸ’¼ à¤•à¤¾à¤°à¥à¤¯à¤•à¤¾à¤°à¤¿à¤£à¥€</a>
  </div>
</div>

<!-- INFO -->
<div class="section">
  <h3>â„¹ï¸ System Info</h3>
  <p>
    âœ” Hosting: <b>GitHub Pages (Static)</b><br>
    âœ” Data Source: <b>JSON Files</b><br>
    âœ” Update Flow: Edit â†’ Download â†’ GitHub Replace<br>
    ğŸ” Admin Access via Session
  </p>
</div>

</div>

<footer>
Â© 2025 à¤œà¤¯ à¤­à¤µà¤¾à¤¨à¥€ à¤°à¤¾à¤·à¥à¤Ÿà¥à¤°à¥€à¤¯ à¤°à¤¾à¤œà¤ªà¥‚à¤¤ à¤®à¤¹à¤¾à¤¸à¤­à¤¾<br>
Admin Dashboard â€“ Authorized Use Only<br>
<a href="../privacy.html" target="_blank">Privacy</a> |
<a href="../terms.html" target="_blank">Terms</a> |
<a href="../verify.html" target="_blank">Verify</a>
</footer>

<script>
/* LOAD MEMBERS STATS */
fetch("../data/members.json")
.then(r=>r.json())
.then(list=>{
  let total=list.length;
  let approved=0, pending=0;

  list.forEach(m=>{
    if((m.status||"pending")==="approved") approved++;
    else pending++;
  });

  totalEl.innerText = total;
  approvedEl.innerText = approved;
  pendingEl.innerText = pending;
})
.catch(()=>console.log("members.json not loaded"));

/* LOAD KARYAKARINI COUNT */
fetch("../data/karyakarini.json")
.then(r=>r.json())
.then(j=>{
  kcount.innerText = (j.karyakarini||[]).length;
})
.catch(()=>console.log("karyakarini.json not loaded"));

const totalEl=document.getElementById("total");
const approvedEl=document.getElementById("approved");
const pendingEl=document.getElementById("pending");
const kcount=document.getElementById("kcount");
</script>

</body>
</html>
