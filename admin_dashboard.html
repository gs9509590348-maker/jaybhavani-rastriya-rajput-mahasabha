<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Admin Dashboard | JBRRMS</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:Arial;
  background:#f4f4f4;
  margin:0;
}
.header{
  background:#7b0000;
  color:#fff;
  padding:15px;
  text-align:center;
}
.container{
  max-width:1200px;
  margin:20px auto;
  background:#fff;
  padding:15px;
  border-radius:8px;
}
h2{color:#7b0000;margin-top:0}

input{
  padding:8px;
  width:100%;
  margin:6px 0;
}
.btn{
  padding:8px 14px;
  background:#7b0000;
  color:#fff;
  border:none;
  border-radius:5px;
  cursor:pointer;
  margin:5px 0;
}
.gray{background:#555}

table{
  width:100%;
  border-collapse:collapse;
  font-size:13px;
}
th,td{
  border:1px solid #ccc;
  padding:6px;
}
th{
  background:#f0f0f0;
}
.footer{
  text-align:center;
  font-size:13px;
  color:#555;
  margin:30px 0;
}
</style>
</head>

<body>

<div class="header">
  <h2>‡§ú‡§Ø ‡§≠‡§µ‡§æ‡§®‡•Ä ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§∞‡§æ‡§ú‡§™‡•Ç‡§§ ‡§Æ‡§π‡§æ‡§∏‡§≠‡§æ</h2>
  <p>Admin Dashboard (Static)</p>
</div>

<div class="container">

<h3>üîç Search Member</h3>
<input id="q" placeholder="Search by Name / Member ID / Post">
<button class="btn" onclick="search()">Search</button>
<button class="btn gray" onclick="reset()">Reset</button>

<h3>üìã Members List</h3>
<table id="tbl">
<thead>
<tr>
<th>Member ID</th>
<th>Name</th>
<th>Post</th>
<th>Level</th>
<th>District</th>
<th>State</th>
<th>Status</th>
<th>Actions</th>
</tr>
</thead>
<tbody></tbody>
</table>

<h3>üßæ Selected Member JSON</h3>
<textarea id="json" style="width:100%;height:180px;font-family:monospace"></textarea>

</div>

<div class="footer">
¬© 2025 ‡§ú‡§Ø ‡§≠‡§µ‡§æ‡§®‡•Ä ‡§∞‡§æ‡§∑‡•ç‡§ü‡•ç‡§∞‡•Ä‡§Ø ‡§∞‡§æ‡§ú‡§™‡•Ç‡§§ ‡§Æ‡§π‡§æ‡§∏‡§≠‡§æ  
<br>
‡§Ø‡§π ‡§°‡•à‡§∂‡§¨‡•ã‡§∞‡•ç‡§° ‡§ï‡•á‡§µ‡§≤ ‡§Ü‡§Ç‡§§‡§∞‡§ø‡§ï ‡§â‡§™‡§Ø‡•ã‡§ó ‡§π‡•á‡§§‡•Å ‡§π‡•à‡•§
</div>

<script>
let members=[];

fetch("data/members.json")
.then(r=>r.json())
.then(d=>{
  members=d;
  render(d);
});

function render(list){
  const tb=document.querySelector("#tbl tbody");
  tb.innerHTML="";
  list.forEach(m=>{
    const tr=document.createElement("tr");
    tr.innerHTML=`
      <td>${m.member_id||""}</td>
      <td>${m.name||""}</td>
      <td>${m.post||""}</td>
      <td>${m.level||""}</td>
      <td>${m.district||""}</td>
      <td>${m.state||""}</td>
      <td>${m.status||"Active"}</td>
      <td>
        <button class="btn" onclick='select(${JSON.stringify(m)})'>View JSON</button>
        <a class="btn gray" target="_blank"
           href="https://jbrrms.in/verify.html?id=${m.member_id}">
           Verify
        </a>
      </td>
    `;
    tb.appendChild(tr);
  });
}

function search(){
  const q=document.getElementById("q").value.toLowerCase();
  const f=members.filter(m=>
    JSON.stringify(m).toLowerCase().includes(q)
  );
  render(f);
}

function reset(){
  document.getElementById("q").value="";
  render(members);
}

function select(m){
  document.getElementById("json").value=
    JSON.stringify(m,null,2);
}
</script>

</body>
</html>
